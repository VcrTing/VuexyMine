import{_ as B}from"./AppTextField.vue_vue_type_script_setup_true_lang-9593f99a.js";import{_ as R}from"./DialogCloseBtn.vue_vue_type_script_setup_true_lang-20b892d1.js";import{V as T,a as I,b as q,e as M,d as E}from"./VCard-2251bf0a.js";import{V as j}from"./VForm-86bb0c44.js";import{V as L}from"./VAlert-ab7886ae.js";import{d as S,l as n,Y as G,o as P,b as h,w as s,q as e,Q as g,y as v,n as p,s as i,H as _,G as D,aR as H,a3 as Q,c as W,F as Y,a as J,ai as K,z as k,a5 as O}from"./index-8830fac0.js";import{V as X}from"./VCheckbox-e40b7df4.js";import{V as Z}from"./VDialog-815bcd9c.js";import{_ as ee}from"./AppSelect.vue_vue_type_script_setup_true_lang-a56e3b84.js";import{a as N,V as te}from"./VRow-7ada8777.js";import{V as U}from"./VDivider-4bb05ad5.js";import{V as se}from"./VDataTableServer-7ae44965.js";import{V as ae}from"./VChip-3f339be7.js";import{V as ie}from"./VPagination-8ba8d2ef.js";import"./VInput-544d2ce5.js";import"./transition-6cf434f0.js";import"./VTextField-7d05b792.js";/* empty css                   */import"./VField-c8919d58.js";import"./easing-9f15041e.js";import"./VImg-ced242ed.js";import"./forwardRefs-a29b5f65.js";import"./VCounter-1ea33411.js";import"./VAvatar-5f7d57fd.js";import"./VCheckboxBtn-cd1193e1.js";import"./VSelectionControl-51d2b85b.js";import"./VOverlay-6ebba9fb.js";import"./lazy-052468c5.js";import"./dialog-transition-43f1c0f2.js";import"./VSelect-330c9d93.js";import"./VList-18a8346a.js";import"./ssrBoot-f3c014da.js";import"./VMenu-6ba2c256.js";import"./VDataTable-2c46a491.js";import"./filter-d02b2f05.js";import"./VTable-2ddca156.js";const oe={class:"d-flex align-end gap-3 mb-3"},le=S({__name:"AddEditPermissionDialog",props:{isDialogVisible:{type:Boolean},permissionName:{default:""}},emits:["update:isDialogVisible","update:permissionName"],setup(w,{emit:V}){const r=w,l=n(""),u=()=>{V("update:isDialogVisible",!1),l.value=""},o=()=>{V("update:isDialogVisible",!1),V("update:permissionName",l.value)};return G(r,()=>{l.value=r.permissionName}),(c,d)=>{const f=R,b=B;return P(),h(Z,{width:c.$vuetify.display.smAndDown?"auto":600,"model-value":r.isDialogVisible,"onUpdate:modelValue":u},{default:s(()=>[e(f,{onClick:u}),e(T,{class:"pa-sm-8 pa-5"},{default:s(()=>[e(I,{class:"text-center"},{default:s(()=>[e(q,{class:"text-h5"},{default:s(()=>[g(v(r.permissionName?"Edit":"Add")+" Permission ",1)]),_:1}),e(M,null,{default:s(()=>[g(v(r.permissionName?"Edit":"Add")+" permission as per your requirements. ",1)]),_:1})]),_:1}),e(E,{class:"mt-1"},{default:s(()=>[e(j,null,{default:s(()=>[e(L,{type:"warning",title:"Warning!",variant:"tonal",class:"mb-6"},{default:s(()=>[g(" By editing the permission name, you might break the system permissions functionality. Please ensure you're absolutely certain before proceeding. ")]),_:1}),p("div",oe,[e(b,{modelValue:i(l),"onUpdate:modelValue":d[0]||(d[0]=x=>_(l)?l.value=x:null),density:"compact",label:"Permission Name",placeholder:"Enter Permission Name"},null,8,["modelValue"]),e(D,{onClick:o},{default:s(()=>[g(" Update ")]),_:1})]),e(X,{label:"Set as core permission"})]),_:1})]),_:1})]),_:1})]),_:1},8,["width","model-value"])}}});const ne=p("h5",{class:"text-h4 mb-6"}," Permissions List ",-1),re=p("p",{class:"mb-0"}," Each category (Basic, Professional, and Business) includes the four predefined roles shown below. ",-1),me={class:"d-flex align-center gap-4 flex-wrap"},pe={class:"d-flex gap-2"},de={class:"d-flex align-center justify-space-between flex-wrap gap-3 pa-5 pt-3"},ue={class:"text-sm text-medium-emphasis mb-0"},Je=S({__name:"index",setup(w){const V=[{title:"Name",key:"name"},{title:"Assigned To",key:"assignedTo",sortable:!1},{title:"Created Date",key:"createdDate",sortable:!1},{title:"Actions",key:"actions",sortable:!1}],r=n([]),l=n(""),u=n(0),o=n({page:1,itemsPerPage:10,sortBy:[],groupBy:[],search:void 0}),c=n(!1),d=n(!1),f=n(""),b=n(1),x={support:{color:"info",text:"Support"},users:{color:"success",text:"Users"},manager:{color:"warning",text:"Manager"},administrator:{color:"primary",text:"Administrator"},"restricted-user":{color:"error",text:"Restricted User"}},C=()=>{O.get("/apps/permissions/data",{params:{q:l.value,options:o.value}}).then(m=>{r.value=m.data.permissions,u.value=m.data.totalPermissions,b.value=m.data.totalPages}).catch(m=>{console.log(m)})};H(C),Q(C);const $=m=>{c.value=!0,f.value=m};return(m,a)=>{const z=ee,F=B,A=le;return P(),h(te,null,{default:s(()=>[e(N,{cols:"12"},{default:s(()=>[ne,re]),_:1}),e(N,{cols:"12"},{default:s(()=>[e(T,null,{default:s(()=>[e(E,{class:"d-flex align-center justify-space-between flex-wrap gap-4"},{default:s(()=>[e(z,{"model-value":i(o).itemsPerPage,items:[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"All"}],style:{width:"5rem"},"onUpdate:modelValue":a[0]||(a[0]=t=>i(o).itemsPerPage=parseInt(t,10))},null,8,["model-value"]),p("div",me,[e(F,{modelValue:i(l),"onUpdate:modelValue":a[1]||(a[1]=t=>_(l)?l.value=t:null),placeholder:"Search",density:"compact",style:{width:"12.5rem"}},null,8,["modelValue"]),e(D,{density:"default",onClick:a[2]||(a[2]=t=>d.value=!0)},{default:s(()=>[g(" Add Permission ")]),_:1})])]),_:1}),e(U),e(i(se),{"items-per-page":i(o).itemsPerPage,"onUpdate:itemsPerPage":a[4]||(a[4]=t=>i(o).itemsPerPage=t),page:i(o).page,"onUpdate:page":a[5]||(a[5]=t=>i(o).page=t),"items-length":i(u),headers:V,items:i(r),class:"text-medium-emphasis text-no-wrap","onUpdate:options":a[6]||(a[6]=t=>o.value=t)},{"item.assignedTo":s(({item:t})=>[p("div",pe,[(P(!0),W(Y,null,J(t.raw.assignedTo,y=>(P(),h(ae,{key:y,label:"",color:x[y].color,class:"font-weight-medium"},{default:s(()=>[g(v(x[y].text),1)]),_:2},1032,["color"]))),128))])]),bottom:s(()=>[e(U),p("div",de,[p("p",ue,v(i(K)(i(o),i(u))),1),e(ie,{modelValue:i(o).page,"onUpdate:modelValue":a[3]||(a[3]=t=>i(o).page=t),length:i(b)},null,8,["modelValue","length"])])]),"item.createdDate":s(({item:t})=>[p("span",null,v(t.raw.createdDate),1)]),"item.actions":s(({item:t})=>[e(D,{icon:"",size:"small",color:"medium-emphasis",variant:"text",onClick:y=>$(t.raw.name)},{default:s(()=>[e(k,{size:"22",icon:"tabler-edit"})]),_:2},1032,["onClick"]),e(D,{icon:"",size:"small",variant:"text",color:"medium-emphasis"},{default:s(()=>[e(k,{size:"22",icon:"tabler-trash"})]),_:1})]),_:1},8,["items-per-page","page","items-length","items"])]),_:1}),e(A,{isDialogVisible:i(c),"onUpdate:isDialogVisible":a[7]||(a[7]=t=>_(c)?c.value=t:null),"permission-name":i(f),"onUpdate:permissionName":a[8]||(a[8]=t=>_(f)?f.value=t:null)},null,8,["isDialogVisible","permission-name"]),e(A,{isDialogVisible:i(d),"onUpdate:isDialogVisible":a[9]||(a[9]=t=>_(d)?d.value=t:null)},null,8,["isDialogVisible"])]),_:1})]),_:1})}}});export{Je as default};
